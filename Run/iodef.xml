<?xml version="1.0"?>
<simulation> 
<!-- <context id="romsc" calendar_type="Gregorian" start_date="2012-03-01 15:00:00" time_origin="2012-02-29 15:00:00"> -->
 <context id="roms" calendar_type="Gregorian" time_origin="1900-01-01 00:00:00">
    


  <!-- ========================================================================== -->
  <!-- ========================================================================== -->


   <field_definition level="1" enabled=".TRUE.">


      <!-- T grid -->

     <field_group id="groupT" grid_ref="grd_T_2D">

         <field id="T" long_name="temperature" unit="degC" grid_ref="grd_T_3D" />
         <field id="S" long_name="salinity" unit="psu" grid_ref="grd_T_3D" />
         <field id="sst" long_name="sea surface temperature" unit="degC" />
         <field id="ssh" long_name="sea surface height" unit="m" />

     </field_group>


      <!-- U grid -->

     <field_group id="groupU" grid_ref="grd_U_2D">

         <field id="ubar" long_name="depth-averaged x velocity" unit="m/s"/>
         <field id="u" long_name="x velocity" unit="m/s" grid_ref="grd_U_3D"/>

     </field_group>


      <!-- V grid -->

     <field_group id="groupV" grid_ref="grd_V_2D">

         <field id="vbar" long_name="depth-averaged y velocity" unit="m/s"/>
         <field id="v" long_name="y velocity" unit="m/s" grid_ref="grd_V_3D"/>

     </field_group>
    

      <!-- W grid -->

     <field_group id="groupW" grid_ref="grd_W_2D">

         <field id="w" long_name="vertical velocity" unit="m/s" grid_ref="grd_W_3D"/>

     </field_group>

   </field_definition>



   <!-- ========================================================================== -->
   <!-- ========================================================================== -->

   <file_definition type="multiple_file" par_access="collective" output_level="10" enabled=".TRUE.">
<!--   <file_definition type="one_file" output_freq="1800s" output_level="10" enabled=".TRUE."> -->

     <file id="output_his" name="file_his" output_freq="5d" sync_freq="5d" split_freq="50d">
       <field_group id="his_fields" operation="instant">
        <field field_ref="ssh" />
        <field field_ref="u" name="u" />
        <field field_ref="v" name="v" />
        <field field_ref="w" name="w" />
        <field field_ref="T" name="T" />
       </field_group>
     </file>

   </file_definition>


  <!-- ========================================================================== -->
  <!-- ========================================================================== -->

   <domain_definition>

    <domain_group id="grid_T">
        <domain id="dom_T" long_name="grid T"/>
     </domain_group>

     <domain_group id="grid_U">
        <domain id="dom_U" long_name="grid U"/>
     </domain_group>

     <domain_group id="grid_V">
        <domain id="dom_V" long_name="grid V"/>
     </domain_group>

<!--      <domain_group id="grid_W">
         <domain id="grid_W" long_name="grid W"/>
      </domain_group> -->

     <domain_group id="scalarpoint">
         <domain id="scalarpoint" long_name="scalar"/>
     </domain_group>

   </domain_definition>

   <axis_definition>
    <axis_group id="s_r">
     <axis id="s_r" />
    </axis_group>
    <axis_group id="s_w">
     <axis id="s_w" />
    </axis_group>
   </axis_definition>

   <grid_definition>    

     <grid id="grd_T_2D" domain_ref="dom_T"/>
     <grid id="grd_T_3D" domain_ref="dom_T" axis_ref="s_r"/>
     <grid id="grd_U_2D" domain_ref="dom_U"/>
     <grid id="grd_U_3D" domain_ref="dom_U" axis_ref="s_r"/>
     <grid id="grd_V_2D" domain_ref="dom_V"/>
     <grid id="grd_V_3D" domain_ref="dom_V" axis_ref="s_r"/>
     <grid id="grd_W_2D" domain_ref="dom_T"/>
     <grid id="grd_W_3D" domain_ref="dom_T" axis_ref="s_w"/> 

   </grid_definition>    

  
  </context>

<context id="roms.1" calendar_type="Gregorian" time_origin="1900-01-01 00:00:00">
    


  <!-- ========================================================================== -->
  <!-- ========================================================================== -->


   <field_definition level="1" enabled=".TRUE.">


      <!-- T grid -->

     <field_group id="groupT" grid_ref="grd_T_2D">

         <field id="T" long_name="temperature" unit="degC" grid_ref="grd_T_3D" />
         <field id="S" long_name="salinity" unit="psu" grid_ref="grd_T_3D" />
         <field id="sst" long_name="sea surface temperature" unit="degC" />
         <field id="ssh" long_name="sea surface height" unit="m" />

     </field_group>


      <!-- U grid -->

     <field_group id="groupU" grid_ref="grd_U_2D">

         <field id="ubar" long_name="depth-averaged x velocity" unit="m/s"/>
         <field id="u" long_name="x velocity" unit="m/s" grid_ref="grd_U_3D"/>

     </field_group>


      <!-- V grid -->

     <field_group id="groupV" grid_ref="grd_V_2D">

         <field id="vbar" long_name="depth-averaged y velocity" unit="m/s"/>
         <field id="v" long_name="y velocity" unit="m/s" grid_ref="grd_V_3D"/>

     </field_group>
    

      <!-- W grid -->

     <field_group id="groupW" grid_ref="grd_W_2D">

         <field id="w" long_name="vertical velocity" unit="m/s" grid_ref="grd_W_3D"/>

     </field_group>

   </field_definition>



   <!-- ========================================================================== -->
   <!-- ========================================================================== -->

   <file_definition type="multiple_file" par_access="collective" output_level="10" enabled=".TRUE.">
<!--   <file_definition type="one_file" output_freq="1800s" output_level="10" enabled=".TRUE."> -->
     <file id="output_his" name="1_file_his" output_freq="5d" sync_freq="5d" split_freq="50d">
       <field_group id="his_fields" operation="instant">
        <field field_ref="ssh" />
        <field field_ref="u" name="u" />
        <field field_ref="v" name="v" />
        <field field_ref="w" name="w" />
        <field field_ref="T" name="T" />
       </field_group>
     </file>
   </file_definition>


  <!-- ========================================================================== -->
  <!-- ========================================================================== -->

   <domain_definition>

    <domain_group id="grid_T">
        <domain id="dom_T" long_name="grid T"/>
     </domain_group>

     <domain_group id="grid_U">
        <domain id="dom_U" long_name="grid U"/>
     </domain_group>

     <domain_group id="grid_V">
        <domain id="dom_V" long_name="grid V"/>
     </domain_group>

<!--      <domain_group id="grid_W">
         <domain id="grid_W" long_name="grid W"/>
      </domain_group> -->

     <domain_group id="scalarpoint">
         <domain id="scalarpoint" long_name="scalar"/>
     </domain_group>

   </domain_definition>

   <axis_definition>
    <axis_group id="s_r">
     <axis id="s_r" />
    </axis_group>
    <axis_group id="s_w">
     <axis id="s_w" />
    </axis_group>
   </axis_definition>

   <grid_definition>    

     <grid id="grd_T_2D" domain_ref="dom_T"/>
     <grid id="grd_T_3D" domain_ref="dom_T" axis_ref="s_r"/>
     <grid id="grd_U_2D" domain_ref="dom_U"/>
     <grid id="grd_U_3D" domain_ref="dom_U" axis_ref="s_r"/>
     <grid id="grd_V_2D" domain_ref="dom_V"/>
     <grid id="grd_V_3D" domain_ref="dom_V" axis_ref="s_r"/>
     <grid id="grd_W_2D" domain_ref="dom_T"/>
     <grid id="grd_W_3D" domain_ref="dom_T" axis_ref="s_w"/> 

   </grid_definition>    

  
  </context>

  <!-- ========================================================================== -->
  <!-- ========================================================================== -->

  
  <context id="xios">
      <variable_definition>
        <variable_group id="buffer">
<!-- buffer_size > jpi*jpj*jpk*8 (with jpi and jpj are subdomain size) -->
            buffer_size = 10000000
            buffer_server_factor_size = 2 
         </variable_group>

        <variable_group id="parameters" >
          <variable id="using_server" type="boolean">true</variable>
          <variable id="info_level" type="int">0</variable>
        </variable_group>
      </variable_definition>
  </context>

</simulation>

